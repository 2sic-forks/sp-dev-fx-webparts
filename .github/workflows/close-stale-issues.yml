name: 'Close stale issues'
on:
  schedule:
    - cron: '30 1 * * *'
  workflow_dispatch:
permissions:
  issues: write
jobs:
  invalid-authors:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/stale@v4
        name: 'Close invalid author'
        with:
          days-before-issue-stale: 3
          days-before-issue-close: 1
          stale-issue-message: 'Please note that this issue will be closed within 24 hours because it has been flagged as having invald authors. [Read the guidance](https://github.com/pnp/sp-dev-fx-webparts/wiki/How-to-create-good-issues#mention-authors) and @mention the authors so they can respond to you.'
          only-issue-labels: 'status:wrong-author'
          close-issue-message: 'Closing this issue due to lack of response. Feel free to open a new issue, but make sure to follow the guidance on [how to create good issues](https://github.com/pnp/sp-dev-fx-webparts/wiki/How-to-create-good-issues#mention-authors) and @mention the authors so they can respond to you.'
          debug-only: true